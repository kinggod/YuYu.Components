function Guid(input){var array=new Array();array.initByOther=function(){for(var i=0;i<32;i++){array.push('0')}};array.initByString=function(input){input=input.replace(/\{|\(|\)|\}|\-/g,'');input=input.toLowerCase();if(input.length!=32||input.search(/[^0-9,a-f]/i)>=0)array.initByOther();else for(var i=0;i<input.length;i++){array.push(input[i])}};if(typeof(input)==='string')array.initByString(input);else array.initByOther();this.equals=function(other){if(other&&other.isGuid)return this.toString()==other.toString();return false};this.isGuid=true;this.toString=function(format){if(format)switch(format){case'N':return array.toString().replace(/,/g,'');case'D':var str=array.slice(0,8)+'-'+array.slice(8,12)+'-'+array.slice(12,16)+'-'+array.slice(16,20)+'-'+array.slice(20,32);str=str.replace(/,/g,'');return str;case'B':var str=this.toString(array,'D');str='{'+str+'}';return str;case'P':var str=this.toString(array,'D');str='('+str+')';return str;default:return new Guid()}else return this.toString('D')}};Guid.empty=new Guid();Guid.newGuid=function(){var string='';for(var i=0;i<32;i++){string+=Math.floor(Math.random()*16.0).toString(16)}return new Guid(string)};